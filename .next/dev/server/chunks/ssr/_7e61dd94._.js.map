{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { cookies } from \"next/headers\"\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll()\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\n        } catch {\n          // The \"setAll\" method was called from a Server Component.\n        }\n      },\n    },\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAAoF;QAC3G,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,0DAA0D;gBAC5D;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/components/dashboard/sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardSidebar() from the server but DashboardSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/sidebar.tsx <module evaluation>\",\n    \"DashboardSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,kEACA","ignoreList":[0]}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/components/dashboard/sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardSidebar() from the server but DashboardSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/sidebar.tsx\",\n    \"DashboardSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,8CACA","ignoreList":[0]}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/components/dashboard/header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardHeader = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardHeader() from the server but DashboardHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/header.tsx <module evaluation>\",\n    \"DashboardHeader\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,iEACA","ignoreList":[0]}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/components/dashboard/header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardHeader = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardHeader() from the server but DashboardHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/header.tsx\",\n    \"DashboardHeader\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,6CACA","ignoreList":[0]}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/lib/plans.ts"],"sourcesContent":["export interface Plan {\n  id: string\n  name: string\n  description: string\n  priceMonthly: number\n  priceYearly: number\n  features: string[]\n  emailCredits: number\n  smsCredits: number\n  leadLimit: number | null\n  paystackPlanCodes?: {\n    monthly?: string\n    yearly?: string\n  }\n  highlighted?: boolean\n}\n\nexport const PLANS: Plan[] = [\n  {\n    id: \"free\",\n    name: \"Free\",\n    description: \"Perfect for getting started\",\n    priceMonthly: 0,\n    priceYearly: 0,\n    emailCredits: 50,\n    smsCredits: 20,\n    leadLimit: 100,\n    features: [\n      \"Up to 100 leads/month\",\n      \"50 emails/month\",\n      \"20 WhatsApp messages/month\",\n      \"Basic analytics\",\n      \"Lead capture forms\",\n    ],\n  },\n  {\n    id: \"starter\",\n    name: \"Starter\",\n    description: \"For growing businesses\",\n    // NGN 5,000/month, yearly with ~20% discount (12 * 5000 * 0.8 = 48,000)\n    priceMonthly: 5000,\n    priceYearly: 48000,\n    emailCredits: 300,\n    smsCredits: 150,\n    leadLimit: 1000,\n    paystackPlanCodes: {\n      monthly: \"PLN_0qpdsze9g1wyx8n\", // replace with your real Paystack plan code\n      yearly: \"PLN_zom6by8dep9kce3\", // replace with your real Paystack plan code\n    },\n    features: [\n      \"Up to 1,000 leads/month\",\n      \"300 emails/month\",\n      \"150 WhatsApp messages/month\",\n      \"Advanced analytics\",\n      \"CSV import/export\",\n      \"Email templates\",\n    ],\n  },\n  {\n    id: \"pro\",\n    name: \"Pro\",\n    description: \"For scaling teams\",\n    // NGN 10,000/month, yearly with ~20% discount (12 * 10000 * 0.8 = 96,000)\n    priceMonthly: 10000,\n    priceYearly: 96000,\n    emailCredits: 500,\n    smsCredits: 500,\n    leadLimit: null,\n    paystackPlanCodes: {\n      monthly: \"PLN_wzel3treojqbl04\", // replace with your real Paystack plan code\n      yearly: \"PLN_1ezppnexsor12t2\", // replace with your real Paystack plan code\n    },\n    highlighted: true,\n    features: [\n      \"Unlimited leads generation\",\n      \"500 emails/month\",\n      \"500 WhatsApp messages/month\",\n      \"Priority support\",\n      \"Custom branding\",\n      \"API access\",\n      \"Team collaboration\",\n    ],\n  },\n]\n"],"names":[],"mappings":";;;;AAiBO,MAAM,QAAgB;IAC3B;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;QACd,aAAa;QACb,cAAc;QACd,YAAY;QACZ,WAAW;QACX,UAAU;YACR;YACA;YACA;YACA;YACA;SACD;IACH;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,wEAAwE;QACxE,cAAc;QACd,aAAa;QACb,cAAc;QACd,YAAY;QACZ,WAAW;QACX,mBAAmB;YACjB,SAAS;YACT,QAAQ;QACV;QACA,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;SACD;IACH;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,0EAA0E;QAC1E,cAAc;QACd,aAAa;QACb,cAAc;QACd,YAAY;QACZ,WAAW;QACX,mBAAmB;YACjB,SAAS;YACT,QAAQ;QACV;QACA,aAAa;QACb,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;SACD;IACH;CACD"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/app/dashboard/layout.tsx"],"sourcesContent":["import type React from \"react\"\nimport { redirect } from \"next/navigation\"\nimport { createClient } from \"@/lib/supabase/server\"\nimport { DashboardSidebar } from \"@/components/dashboard/sidebar\"\nimport { DashboardHeader } from \"@/components/dashboard/header\"\nimport { PLANS } from \"@/lib/plans\"\n\nexport default async function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const supabase = await createClient()\n  const {\n    data: { user },\n    error,\n  } = await supabase.auth.getUser()\n\n  if (error || !user) {\n    redirect(\"/auth/login\")\n  }\n\n  const { data: profile } = await supabase.from(\"profiles\").select(\"*\").eq(\"id\", user.id).single()\n\n  if (profile && profile.accepted_policy === false) {\n    redirect(\"/policy\")\n  }\n\n  let leadsUsedThisMonth = 0\n  let leadLimit: number | null = null\n\n  if (profile) {\n    const plan = PLANS.find((p) => p.id === profile.subscription_plan) || PLANS[0]\n    leadLimit = plan.leadLimit\n\n    if (leadLimit !== null) {\n      const now = new Date()\n      const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1).toISOString()\n      const startOfNextMonth = new Date(now.getFullYear(), now.getMonth() + 1, 1).toISOString()\n\n      const { count } = await supabase\n        .from(\"leads\")\n        .select(\"id\", { count: \"exact\", head: true })\n        .eq(\"user_id\", user.id)\n        .gte(\"created_at\", startOfMonth)\n        .lt(\"created_at\", startOfNextMonth)\n\n      leadsUsedThisMonth = count || 0\n    }\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-muted/30\">\n      <DashboardSidebar\n        user={user}\n        profile={profile}\n        leadLimit={leadLimit}\n        leadsUsedThisMonth={leadsUsedThisMonth}\n      />\n      <div className=\"flex-1 flex flex-col\">\n        <DashboardHeader user={user} profile={profile} />\n        <main className=\"flex-1 p-6\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,eAAe,gBAAgB,EAC5C,QAAQ,EAGT;IACC,MAAM,WAAW,MAAM,IAAA,yIAAY;IACnC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,KAAK,EACN,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,IAAI,SAAS,CAAC,MAAM;QAClB,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK,EAAE,CAAC,MAAM,KAAK,EAAE,EAAE,MAAM;IAE9F,IAAI,WAAW,QAAQ,eAAe,KAAK,OAAO;QAChD,IAAA,iMAAQ,EAAC;IACX;IAEA,IAAI,qBAAqB;IACzB,IAAI,YAA2B;IAE/B,IAAI,SAAS;QACX,MAAM,OAAO,qHAAK,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,QAAQ,iBAAiB,KAAK,qHAAK,CAAC,EAAE;QAC9E,YAAY,KAAK,SAAS;QAE1B,IAAI,cAAc,MAAM;YACtB,MAAM,MAAM,IAAI;YAChB,MAAM,eAAe,IAAI,KAAK,IAAI,WAAW,IAAI,IAAI,QAAQ,IAAI,GAAG,WAAW;YAC/E,MAAM,mBAAmB,IAAI,KAAK,IAAI,WAAW,IAAI,IAAI,QAAQ,KAAK,GAAG,GAAG,WAAW;YAEvF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,SACL,MAAM,CAAC,MAAM;gBAAE,OAAO;gBAAS,MAAM;YAAK,GAC1C,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,GAAG,CAAC,cAAc,cAClB,EAAE,CAAC,cAAc;YAEpB,qBAAqB,SAAS;QAChC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,uJAAgB;gBACf,MAAM;gBACN,SAAS;gBACT,WAAW;gBACX,oBAAoB;;;;;;0BAEtB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,qJAAe;wBAAC,MAAM;wBAAM,SAAS;;;;;;kCACtC,8OAAC;wBAAK,WAAU;kCAAc;;;;;;;;;;;;;;;;;;AAItC"}}]
}