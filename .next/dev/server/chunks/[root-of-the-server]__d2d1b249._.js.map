{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { cookies } from \"next/headers\"\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll()\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\n        } catch {\n          // The \"setAll\" method was called from a Server Component.\n        }\n      },\n    },\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IAEjC,OAAO,IAAA,iMAAkB,sUAAoF;QAC3G,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,0DAA0D;gBAC5D;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/LeadFlow/app/api/leads/generate/route.ts"],"sourcesContent":["import { NextResponse, type NextRequest } from \"next/server\"\r\nimport { createClient } from \"@/lib/supabase/server\"\r\n\r\ninterface GenerateRequestBody {\r\n  category?: string\r\n  location?: string\r\n  searchMode?: \"random\" | \"nearest\" | \"explore\"\r\n  excludePlaceIds?: string[]\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { category = \"restaurant\", location, searchMode = \"random\", excludePlaceIds = [] } =\r\n      (await request.json()) as GenerateRequestBody\r\n\r\n    if (!location || !location.trim()) {\r\n      return NextResponse.json({ error: \"Location is required\" }, { status: 400 })\r\n    }\r\n\r\n    const geoapifyKey = process.env.GEOAPIFY_API_KEY\r\n    if (!geoapifyKey) {\r\n      return NextResponse.json({ error: \"GEOAPIFY_API_KEY is not configured\" }, { status: 500 })\r\n    }\r\n\r\n    const rapidapiKey = process.env.RAPIDAPI_LOCAL_BUSINESS_KEY || \"\"\r\n    const scraperbeeKey = process.env.SCRAPERBEE_API_KEY || \"\"\r\n\r\n    const supabase = await createClient()\r\n    const {\r\n      data: { user },\r\n    } = await supabase.auth.getUser()\r\n\r\n    if (!user) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n    }\r\n\r\n    const categoryMap: Record<string, string> = {\r\n      restaurant: \"catering.restaurant\",\r\n      cafe: \"catering.cafe\",\r\n      hotel: \"accommodation.hotel\",\r\n      hospital: \"healthcare.hospital\",\r\n      school: \"education.school\",\r\n      supermarket: \"commercial.supermarket\",\r\n      bank: \"service.bank\",\r\n      pharmacy: \"healthcare.pharmacy\",\r\n      gym: \"sport.fitness\",\r\n      bar: \"catering.bar\",\r\n    }\r\n\r\n    const geoapifyCategory = categoryMap[category] || category\r\n\r\n    const geocodeUrl = `https://api.geoapify.com/v1/geocode/search?text=${encodeURIComponent(location)}&apiKey=${geoapifyKey}`\r\n    const geocodeResponse = await fetch(geocodeUrl)\r\n\r\n    if (!geocodeResponse.ok) {\r\n      throw new Error(`Geocoding failed: ${geocodeResponse.status}`)\r\n    }\r\n\r\n    const geocodeData: any = await geocodeResponse.json()\r\n\r\n    if (!geocodeData.features || geocodeData.features.length === 0) {\r\n      throw new Error(\"Location not found. Please try a different location.\")\r\n    }\r\n\r\n    const coords = geocodeData.features[0].geometry.coordinates\r\n    let lon = coords[0]\r\n    let lat = coords[1]\r\n\r\n    let radius = 5000\r\n    let offset = 0\r\n\r\n    if (searchMode === \"random\") {\r\n      radius = Math.floor(Math.random() * (8000 - 3000 + 1)) + 3000\r\n\r\n      const possibleOffsets = [0, 10, 20, 30, 40]\r\n      offset = possibleOffsets[Math.floor(Math.random() * possibleOffsets.length)]\r\n\r\n      const shift = 0.01\r\n      lon += (Math.random() - 0.5) * shift\r\n      lat += (Math.random() - 0.5) * shift\r\n    } else if (searchMode === \"explore\") {\r\n      const shift = 0.03\r\n      lon += (Math.random() - 0.5) * shift\r\n      lat += (Math.random() - 0.5) * shift\r\n      radius = 7000\r\n    }\r\n\r\n    const placesUrl = `https://api.geoapify.com/v2/places?categories=${geoapifyCategory}&filter=circle:${lon},${lat},${radius}&bias=proximity:${lon},${lat}&limit=20&offset=${offset}&apiKey=${geoapifyKey}`\r\n    const placesResponse = await fetch(placesUrl)\r\n\r\n    if (!placesResponse.ok) {\r\n      throw new Error(`Geoapify search failed: ${placesResponse.status}`)\r\n    }\r\n\r\n    const placesData: any = await placesResponse.json()\r\n\r\n    if (!placesData.features || placesData.features.length === 0) {\r\n      return NextResponse.json({ places: [], leadsCreated: 0 })\r\n    }\r\n\r\n    let places: any[] = [...placesData.features]\r\n\r\n    if (searchMode !== \"nearest\" && excludePlaceIds && excludePlaceIds.length > 0) {\r\n      const excludeSet = new Set(excludePlaceIds)\r\n      places = places.filter((place) => !excludeSet.has(place.properties.place_id))\r\n    }\r\n\r\n    if (searchMode !== \"nearest\") {\r\n      for (let i = places.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1))\r\n        ;[places[i], places[j]] = [places[j], places[i]]\r\n      }\r\n    }\r\n\r\n    places = places.slice(0, 10)\r\n\r\n    const detailedPlaces: any[] = []\r\n\r\n    for (const place of places) {\r\n      const placeId = place.properties.place_id\r\n      const placeName = place.properties.name || \"Unnamed Place\"\r\n\r\n      const detailsUrl = `https://api.geoapify.com/v2/place-details?id=${placeId}&apiKey=${geoapifyKey}`\r\n      const detailsResponse = await fetch(detailsUrl)\r\n      const detailsData: any = await detailsResponse.json()\r\n\r\n      const geoapifyContact = detailsData.features?.[0]?.properties?.datasource?.raw || {}\r\n      const finalContact: any = { ...geoapifyContact }\r\n      const sources: string[] = [\"geoapify\"]\r\n\r\n      const hasPhone = finalContact.phone\r\n      const hasEmail = finalContact.email\r\n      const hasWebsite = finalContact.website\r\n\r\n      if ((!hasPhone || !hasEmail) && rapidapiKey) {\r\n        try {\r\n          const query = `${placeName} ${location}`\r\n          const rapidUrl = `https://local-business-data.p.rapidapi.com/search?query=${encodeURIComponent(\r\n            query,\r\n          )}&lat=${lat}&lng=${lon}&limit=1&language=en&extract_emails_and_contacts=true`\r\n\r\n          const rapidResponse = await fetch(rapidUrl, {\r\n            method: \"GET\",\r\n            headers: {\r\n              \"x-rapidapi-host\": \"local-business-data.p.rapidapi.com\",\r\n              \"x-rapidapi-key\": rapidapiKey,\r\n            },\r\n          })\r\n\r\n          if (rapidResponse.ok) {\r\n            const rapidData: any = await rapidResponse.json()\r\n\r\n            if (rapidData.data && rapidData.data.length > 0) {\r\n              const rapidPlace = rapidData.data[0]\r\n\r\n              if (!hasPhone && rapidPlace.phone_number) {\r\n                finalContact.phone = rapidPlace.phone_number\r\n                sources.push(\"rapidapi\")\r\n              }\r\n              if (!hasEmail && rapidPlace.email) {\r\n                finalContact.email = rapidPlace.email\r\n                sources.push(\"rapidapi\")\r\n              }\r\n              if (!hasWebsite && rapidPlace.website) {\r\n                finalContact.website = rapidPlace.website\r\n                sources.push(\"rapidapi\")\r\n              }\r\n            }\r\n          }\r\n        } catch (rapidError) {\r\n          console.error(\"RapidAPI error:\", rapidError)\r\n        }\r\n      }\r\n\r\n      const needsScraping = (!finalContact.phone || !finalContact.email) && finalContact.website && scraperbeeKey\r\n\r\n      if (needsScraping) {\r\n        try {\r\n          const scraperbeeUrl = `https://app.scrapingbee.com/api/v1/?api_key=${scraperbeeKey}&url=${encodeURIComponent(\r\n            finalContact.website,\r\n          )}&ai_query=${encodeURIComponent(\r\n            \"Extract all contact information including email addresses, phone numbers, WhatsApp numbers, and social media links (Facebook, Instagram, Twitter, LinkedIn)\",\r\n          )}&render_js=false`\r\n\r\n          const scraperbeeResponse = await fetch(scraperbeeUrl)\r\n\r\n          console.log(\"ScraperBee status:\", scraperbeeResponse.status)\r\n\r\n          if (scraperbeeResponse.ok) {\r\n            const html = await scraperbeeResponse.text()\r\n\r\n            const emailRegex = /\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}\\b/g\r\n            const emails = html.match(emailRegex)\r\n\r\n            const phoneRegex = /[\\+]?[(]?[0-9]{1,4}[)]?[-\\s\\.]?[(]?[0-9]{1,4}[)]?[-\\s\\.]?[0-9]{1,4}[-\\s\\.]?[0-9]{1,9}/g\r\n            const phones = html.match(phoneRegex)\r\n\r\n            const socialRegex: Record<string, RegExp> = {\r\n              facebook: /(?:https?:\\/\\/)?(?:www\\.)?facebook\\.com\\/[a-zA-Z0-9.]+/g,\r\n              instagram: /(?:https?:\\/\\/)?(?:www\\.)?instagram\\.com\\/[a-zA-Z0-9._]+/g,\r\n              twitter: /(?:https?:\\/\\/)?(?:www\\.)?(?:twitter|x)\\.com\\/[a-zA-Z0-9_]+/g,\r\n              linkedin: /(?:https?:\\/\\/)?(?:www\\.)?linkedin\\.com\\/(?:company|in)\\/[a-zA-Z0-9-]+/g,\r\n            }\r\n\r\n            const social: Record<string, string> = {}\r\n            for (const [platform, regex] of Object.entries(socialRegex)) {\r\n              const matches = html.match(regex)\r\n              if (matches && matches.length > 0) {\r\n                social[platform] = matches[0]\r\n              }\r\n            }\r\n\r\n            if (!finalContact.email && emails && emails.length > 0) {\r\n              finalContact.email = emails[0]\r\n              sources.push(\"scraperbee\")\r\n            }\r\n\r\n            if (!finalContact.phone && phones && phones.length > 0) {\r\n              finalContact.phone = phones[0]\r\n              sources.push(\"scraperbee\")\r\n            }\r\n\r\n            if (Object.keys(social).length > 0) {\r\n              ;(finalContact as any).social = social\r\n              if (!sources.includes(\"scraperbee\")) sources.push(\"scraperbee\")\r\n            }\r\n          }\r\n        } catch (scraperbeeError) {\r\n          console.error(\"ScraperBee error:\", scraperbeeError)\r\n        }\r\n      }\r\n\r\n      const placeData = {\r\n        placeId,\r\n        name: placeName,\r\n        address: place.properties.formatted || \"No address\",\r\n        category: place.properties.categories?.join(\", \") || geoapifyCategory,\r\n        contact: finalContact,\r\n        sources: Array.from(new Set(sources)),\r\n      }\r\n\r\n      detailedPlaces.push(placeData)\r\n    }\r\n\r\n    const leadsToInsert = detailedPlaces.map((place) => ({\r\n      user_id: user.id,\r\n      name: place.name,\r\n      email: place.contact.email || null,\r\n      phone: place.contact.phone || null,\r\n      source: place.sources.join(\",\"),\r\n      status: \"new\",\r\n      notes: null,\r\n      metadata: {\r\n        address: place.address,\r\n        category: place.category,\r\n        contact: place.contact,\r\n        sources: place.sources,\r\n      },\r\n    }))\r\n\r\n    let insertError: string | null = null\r\n\r\n    if (leadsToInsert.length > 0) {\r\n      const { error } = await supabase.from(\"leads\").insert(leadsToInsert)\r\n      if (error) {\r\n        console.error(\"Error inserting leads:\", error)\r\n        insertError = error.message\r\n      }\r\n    }\r\n\r\n    return NextResponse.json({ places: detailedPlaces, leadsCreated: leadsToInsert.length, insertError })\r\n  } catch (error: any) {\r\n    console.error(\"Lead generation error:\", error)\r\n    return NextResponse.json({ error: error.message ?? \"Failed to generate leads\" }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AASO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,WAAW,YAAY,EAAE,QAAQ,EAAE,aAAa,QAAQ,EAAE,kBAAkB,EAAE,EAAE,GACrF,MAAM,QAAQ,IAAI;QAErB,IAAI,CAAC,YAAY,CAAC,SAAS,IAAI,IAAI;YACjC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAuB,GAAG;gBAAE,QAAQ;YAAI;QAC5E;QAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,gBAAgB;QAChD,IAAI,CAAC,aAAa;YAChB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAqC,GAAG;gBAAE,QAAQ;YAAI;QAC1F;QAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,2BAA2B,IAAI;QAC/D,MAAM,gBAAgB,QAAQ,GAAG,CAAC,kBAAkB,IAAI;QAExD,MAAM,WAAW,MAAM,IAAA,2IAAY;QACnC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QAE/B,IAAI,CAAC,MAAM;YACT,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,cAAsC;YAC1C,YAAY;YACZ,MAAM;YACN,OAAO;YACP,UAAU;YACV,QAAQ;YACR,aAAa;YACb,MAAM;YACN,UAAU;YACV,KAAK;YACL,KAAK;QACP;QAEA,MAAM,mBAAmB,WAAW,CAAC,SAAS,IAAI;QAElD,MAAM,aAAa,CAAC,gDAAgD,EAAE,mBAAmB,UAAU,QAAQ,EAAE,aAAa;QAC1H,MAAM,kBAAkB,MAAM,MAAM;QAEpC,IAAI,CAAC,gBAAgB,EAAE,EAAE;YACvB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,gBAAgB,MAAM,EAAE;QAC/D;QAEA,MAAM,cAAmB,MAAM,gBAAgB,IAAI;QAEnD,IAAI,CAAC,YAAY,QAAQ,IAAI,YAAY,QAAQ,CAAC,MAAM,KAAK,GAAG;YAC9D,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,SAAS,YAAY,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW;QAC3D,IAAI,MAAM,MAAM,CAAC,EAAE;QACnB,IAAI,MAAM,MAAM,CAAC,EAAE;QAEnB,IAAI,SAAS;QACb,IAAI,SAAS;QAEb,IAAI,eAAe,UAAU;YAC3B,SAAS,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,OAAO,OAAO,CAAC,KAAK;YAEzD,MAAM,kBAAkB;gBAAC;gBAAG;gBAAI;gBAAI;gBAAI;aAAG;YAC3C,SAAS,eAAe,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,gBAAgB,MAAM,EAAE;YAE5E,MAAM,QAAQ;YACd,OAAO,CAAC,KAAK,MAAM,KAAK,GAAG,IAAI;YAC/B,OAAO,CAAC,KAAK,MAAM,KAAK,GAAG,IAAI;QACjC,OAAO,IAAI,eAAe,WAAW;YACnC,MAAM,QAAQ;YACd,OAAO,CAAC,KAAK,MAAM,KAAK,GAAG,IAAI;YAC/B,OAAO,CAAC,KAAK,MAAM,KAAK,GAAG,IAAI;YAC/B,SAAS;QACX;QAEA,MAAM,YAAY,CAAC,8CAA8C,EAAE,iBAAiB,eAAe,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,OAAO,gBAAgB,EAAE,IAAI,CAAC,EAAE,IAAI,iBAAiB,EAAE,OAAO,QAAQ,EAAE,aAAa;QACxM,MAAM,iBAAiB,MAAM,MAAM;QAEnC,IAAI,CAAC,eAAe,EAAE,EAAE;YACtB,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,eAAe,MAAM,EAAE;QACpE;QAEA,MAAM,aAAkB,MAAM,eAAe,IAAI;QAEjD,IAAI,CAAC,WAAW,QAAQ,IAAI,WAAW,QAAQ,CAAC,MAAM,KAAK,GAAG;YAC5D,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,QAAQ,EAAE;gBAAE,cAAc;YAAE;QACzD;QAEA,IAAI,SAAgB;eAAI,WAAW,QAAQ;SAAC;QAE5C,IAAI,eAAe,aAAa,mBAAmB,gBAAgB,MAAM,GAAG,GAAG;YAC7E,MAAM,aAAa,IAAI,IAAI;YAC3B,SAAS,OAAO,MAAM,CAAC,CAAC,QAAU,CAAC,WAAW,GAAG,CAAC,MAAM,UAAU,CAAC,QAAQ;QAC7E;QAEA,IAAI,eAAe,WAAW;YAC5B,IAAK,IAAI,IAAI,OAAO,MAAM,GAAG,GAAG,IAAI,GAAG,IAAK;gBAC1C,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC;gBAC1C,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,CAAC,GAAG;oBAAC,MAAM,CAAC,EAAE;oBAAE,MAAM,CAAC,EAAE;iBAAC;YAClD;QACF;QAEA,SAAS,OAAO,KAAK,CAAC,GAAG;QAEzB,MAAM,iBAAwB,EAAE;QAEhC,KAAK,MAAM,SAAS,OAAQ;YAC1B,MAAM,UAAU,MAAM,UAAU,CAAC,QAAQ;YACzC,MAAM,YAAY,MAAM,UAAU,CAAC,IAAI,IAAI;YAE3C,MAAM,aAAa,CAAC,6CAA6C,EAAE,QAAQ,QAAQ,EAAE,aAAa;YAClG,MAAM,kBAAkB,MAAM,MAAM;YACpC,MAAM,cAAmB,MAAM,gBAAgB,IAAI;YAEnD,MAAM,kBAAkB,YAAY,QAAQ,EAAE,CAAC,EAAE,EAAE,YAAY,YAAY,OAAO,CAAC;YACnF,MAAM,eAAoB;gBAAE,GAAG,eAAe;YAAC;YAC/C,MAAM,UAAoB;gBAAC;aAAW;YAEtC,MAAM,WAAW,aAAa,KAAK;YACnC,MAAM,WAAW,aAAa,KAAK;YACnC,MAAM,aAAa,aAAa,OAAO;YAEvC,IAAI,CAAC,CAAC,YAAY,CAAC,QAAQ,KAAK,aAAa;gBAC3C,IAAI;oBACF,MAAM,QAAQ,GAAG,UAAU,CAAC,EAAE,UAAU;oBACxC,MAAM,WAAW,CAAC,wDAAwD,EAAE,mBAC1E,OACA,KAAK,EAAE,IAAI,KAAK,EAAE,IAAI,qDAAqD,CAAC;oBAE9E,MAAM,gBAAgB,MAAM,MAAM,UAAU;wBAC1C,QAAQ;wBACR,SAAS;4BACP,mBAAmB;4BACnB,kBAAkB;wBACpB;oBACF;oBAEA,IAAI,cAAc,EAAE,EAAE;wBACpB,MAAM,YAAiB,MAAM,cAAc,IAAI;wBAE/C,IAAI,UAAU,IAAI,IAAI,UAAU,IAAI,CAAC,MAAM,GAAG,GAAG;4BAC/C,MAAM,aAAa,UAAU,IAAI,CAAC,EAAE;4BAEpC,IAAI,CAAC,YAAY,WAAW,YAAY,EAAE;gCACxC,aAAa,KAAK,GAAG,WAAW,YAAY;gCAC5C,QAAQ,IAAI,CAAC;4BACf;4BACA,IAAI,CAAC,YAAY,WAAW,KAAK,EAAE;gCACjC,aAAa,KAAK,GAAG,WAAW,KAAK;gCACrC,QAAQ,IAAI,CAAC;4BACf;4BACA,IAAI,CAAC,cAAc,WAAW,OAAO,EAAE;gCACrC,aAAa,OAAO,GAAG,WAAW,OAAO;gCACzC,QAAQ,IAAI,CAAC;4BACf;wBACF;oBACF;gBACF,EAAE,OAAO,YAAY;oBACnB,QAAQ,KAAK,CAAC,mBAAmB;gBACnC;YACF;YAEA,MAAM,gBAAgB,CAAC,CAAC,aAAa,KAAK,IAAI,CAAC,aAAa,KAAK,KAAK,aAAa,OAAO,IAAI;YAE9F,IAAI,eAAe;gBACjB,IAAI;oBACF,MAAM,gBAAgB,CAAC,4CAA4C,EAAE,cAAc,KAAK,EAAE,mBACxF,aAAa,OAAO,EACpB,UAAU,EAAE,mBACZ,+JACA,gBAAgB,CAAC;oBAEnB,MAAM,qBAAqB,MAAM,MAAM;oBAEvC,QAAQ,GAAG,CAAC,sBAAsB,mBAAmB,MAAM;oBAE3D,IAAI,mBAAmB,EAAE,EAAE;wBACzB,MAAM,OAAO,MAAM,mBAAmB,IAAI;wBAE1C,MAAM,aAAa;wBACnB,MAAM,SAAS,KAAK,KAAK,CAAC;wBAE1B,MAAM,aAAa;wBACnB,MAAM,SAAS,KAAK,KAAK,CAAC;wBAE1B,MAAM,cAAsC;4BAC1C,UAAU;4BACV,WAAW;4BACX,SAAS;4BACT,UAAU;wBACZ;wBAEA,MAAM,SAAiC,CAAC;wBACxC,KAAK,MAAM,CAAC,UAAU,MAAM,IAAI,OAAO,OAAO,CAAC,aAAc;4BAC3D,MAAM,UAAU,KAAK,KAAK,CAAC;4BAC3B,IAAI,WAAW,QAAQ,MAAM,GAAG,GAAG;gCACjC,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC,EAAE;4BAC/B;wBACF;wBAEA,IAAI,CAAC,aAAa,KAAK,IAAI,UAAU,OAAO,MAAM,GAAG,GAAG;4BACtD,aAAa,KAAK,GAAG,MAAM,CAAC,EAAE;4BAC9B,QAAQ,IAAI,CAAC;wBACf;wBAEA,IAAI,CAAC,aAAa,KAAK,IAAI,UAAU,OAAO,MAAM,GAAG,GAAG;4BACtD,aAAa,KAAK,GAAG,MAAM,CAAC,EAAE;4BAC9B,QAAQ,IAAI,CAAC;wBACf;wBAEA,IAAI,OAAO,IAAI,CAAC,QAAQ,MAAM,GAAG,GAAG;;4BAChC,aAAqB,MAAM,GAAG;4BAChC,IAAI,CAAC,QAAQ,QAAQ,CAAC,eAAe,QAAQ,IAAI,CAAC;wBACpD;oBACF;gBACF,EAAE,OAAO,iBAAiB;oBACxB,QAAQ,KAAK,CAAC,qBAAqB;gBACrC;YACF;YAEA,MAAM,YAAY;gBAChB;gBACA,MAAM;gBACN,SAAS,MAAM,UAAU,CAAC,SAAS,IAAI;gBACvC,UAAU,MAAM,UAAU,CAAC,UAAU,EAAE,KAAK,SAAS;gBACrD,SAAS;gBACT,SAAS,MAAM,IAAI,CAAC,IAAI,IAAI;YAC9B;YAEA,eAAe,IAAI,CAAC;QACtB;QAEA,MAAM,gBAAgB,eAAe,GAAG,CAAC,CAAC,QAAU,CAAC;gBACnD,SAAS,KAAK,EAAE;gBAChB,MAAM,MAAM,IAAI;gBAChB,OAAO,MAAM,OAAO,CAAC,KAAK,IAAI;gBAC9B,OAAO,MAAM,OAAO,CAAC,KAAK,IAAI;gBAC9B,QAAQ,MAAM,OAAO,CAAC,IAAI,CAAC;gBAC3B,QAAQ;gBACR,OAAO;gBACP,UAAU;oBACR,SAAS,MAAM,OAAO;oBACtB,UAAU,MAAM,QAAQ;oBACxB,SAAS,MAAM,OAAO;oBACtB,SAAS,MAAM,OAAO;gBACxB;YACF,CAAC;QAED,IAAI,cAA6B;QAEjC,IAAI,cAAc,MAAM,GAAG,GAAG;YAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,SAAS,MAAM,CAAC;YACtD,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,0BAA0B;gBACxC,cAAc,MAAM,OAAO;YAC7B;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,QAAQ;YAAgB,cAAc,cAAc,MAAM;YAAE;QAAY;IACrG,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO,IAAI;QAA2B,GAAG;YAAE,QAAQ;QAAI;IACjG;AACF"}}]
}